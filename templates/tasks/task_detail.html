{% extends "layouts/base.html" %}
{% load static %}

{% block content %}

  <div class="container-fluid">
    <div class="page-header min-height-100 border-radius-lg mt-4 d-flex flex-column justify-content-end">
      <span class="mask bg-primary opacity-9"></span>
      <div class="w-100 position-relative p-3">
        <div class="d-flex justify-content-between align-items-end">
          <div class="d-flex align-items-center">
            <div>
              <h5 class="mb-1 text-white font-weight-bolder">
                {{ task.name }}
              </h5>
              <p class="mb-0 text-white text-sm">
                Priority / {{ task.priority }}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-12 col-xl-4">
        <div class="card h-100">
          <div class="card-header pb-0 p-3">
            <div class="row">
              <div class="col-md-8 d-flex align-items-center">
              </div>
              <div class="col-md-4 text-end">
                <a href="{% url 'management:task-edit' task.pk %}">
                  <i class="fas fa-file-pen text-secondary text-sm" data-bs-toggle="tooltip" data-bs-placement="top" title="Edit Task"></i>
                </a>
                <a href="{% url 'management:task-delete' task.pk %}">
                  <i class="fas fa-trash text-secondary text-sm" data-bs-toggle="tooltip" data-bs-placement="top" title="Delete Task"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="card-body p-3">
            <p class="text-sm">
              {{ task.description }}
            </p>
            <hr class="horizontal gray-light my-4">
            <ul class="list-group">
              <li class="list-group-item border-0 ps-0 pt-0 text-sm"><strong class="text-dark">ID:</strong> &nbsp; {{ task.id }}</li>
              <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Deadline:</strong> &nbsp; {{ task.deadline }}</li>
              <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Priority:</strong> &nbsp; {{ task.priority }}</li>
              <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Task Type:</strong> &nbsp; {{ task.task_type }}</li>
              <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Assignees:</strong> &nbsp;
                {% if task.assignees.all %}
                  {{ task.assignees.all|join:", " }}
                {% else %}
                  No assignees
                {% endif %}</li>
              <li class="list-group-item border-0 ps-0 text-sm"><strong class="text-dark">Completed:</strong> &nbsp; 
              {% if task.is_completed %}
                ✅ Yes
              {% else %}
                ❌ No
              {% endif %}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer pt-3  ">
      {% include "includes/footer.html" %}
    </footer>
  </div>

{% endblock content %}
